{"ast":null,"code":"var _jsxFileName = \"/home/dci/Desktop/Repos/portfolio-frontend/src/Views/WebApps/Weather-App/WeatherApp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { weatherConditions } from \"./WeatherConditions\"; // Images & icons\n\nimport mainBg from \"../Weather-App/Static/mainBG.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst weatherAppKey = process.env.REACT_APP_WEATHER_APP_KEY; // Remove accents - called in onChange event and setLocation\n\nconst removeAccents = require(\"remove-accents-diacritics\");\n\nconst WeatherApp = () => {\n  _s();\n\n  const [weatherData, setWeatherData] = useState({});\n  const [data, setData] = useState({});\n  let [location, setLocation] = useState(\"\");\n  let [iconId, setIconId] = useState(\"\");\n  let [bgImg, setBgImg] = useState(\"\"); // console.log(\"Testing accents\", location);\n\n  let weatherUrl = `https://api.openweathermap.org/data/2.5/weather?q=${location}&appid=${weatherAppKey}&units=metric`; // Call weather API and set weather data\n\n  const getWeatherData = async event => {\n    if (event.key === \"Enter\") {\n      try {\n        axios.get(weatherUrl).then(response => {\n          const returnedData = response.data;\n          const nestedData = response.data.weather[0].icon; // setWeatherData(returnedData);\n\n          setIconId(nestedData);\n          console.log(\"!!!\", returnedData, nestedData); // console.log(response.data);\n\n          console.log(\"ID!!!\", iconId); // console.log(\"BG img\", bgImg);\n          // Find correlating bg from returned data, passed into iconID and return the bg image from found object\n          // weatherConditions.map((object) => {\n          //   if (iconId === object.iconDay || iconId === object.iconNight) {\n          //     setBgImg(object.backgroundImage);\n          //   } else {\n          //     return null;\n          //   }\n          //   return bgImg;\n          // });\n        });\n        setLocation(\"\");\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"weather-app-container\",\n    style: weatherData.main && weatherData.weather[0].icon && bgImg !== \"\" ? {\n      backgroundImage: `url(${bgImg})`\n    } : {\n      backgroundImage: `url(${mainBg})`\n    } // Set bg based on weather condition icon parameter\n    // style={\n    //   (weatherData.main && weatherData.weather[0].icon === \"01d\") ||\n    //   (weatherData.main && weatherData.weather[0].icon === \"01n\")\n    //     ? {\n    //         backgroundImage: `url(${clearSky})`,\n    //       }\n    //     : (weatherData.main && weatherData.weather[0].icon === \"02d\") ||\n    //       (weatherData.main && weatherData.weather[0].icon === \"02n\")\n    //     ? {\n    //         backgroundImage: `url(${fewClouds}) `,\n    //       }\n    //     : (weatherData.main && weatherData.weather[0].icon === \"03d\") ||\n    //       (weatherData.main && weatherData.weather[0].icon === \"03n\")\n    //     ? { backgroundImage: `url(${scatteredClouds})` }\n    //     : (weatherData.main && weatherData.weather[0].icon === \"04d\") ||\n    //       (weatherData.main && weatherData.weather[0].icon === \"04n\")\n    //     ? { backgroundImage: `url(${brokenClouds})` }\n    //     : (weatherData.main && weatherData.weather[0].icon === \"09d\") ||\n    //       (weatherData.main && weatherData.weather[0].icon === \"09n\")\n    //     ? { backgroundImage: `url(${lightRain})` }\n    //     : (weatherData.main && weatherData.weather[0].icon === \"10d\") ||\n    //       (weatherData.main && weatherData.weather[0].icon === \"10n\")\n    //     ? { backgroundImage: `url(${rain})` }\n    //     : (weatherData.main && weatherData.weather[0].icon === \"11d\") ||\n    //       (weatherData.main && weatherData.weather[0].icon === \"11n\")\n    //     ? { backgroundImage: `url(${thunderstorm})` }\n    //     : (weatherData.main && weatherData.weather[0].icon === \"13d\") ||\n    //       (weatherData.main && weatherData.weather[0].icon === \"13n\")\n    //     ? { backgroundImage: `url(${snow})` }\n    //     : (weatherData.main && weatherData.weather[0].icon === \"50d\") ||\n    //       (weatherData.main && weatherData.weather[0].icon === \"50n\")\n    //     ? { backgroundImage: `url(${mist})` }\n    //     : {\n    //         backgroundImage: `url(${mainBg})`,\n    //       }\n    // }\n    ,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: weatherData.main ? \"returned-data-container\" : null,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-weather-info-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"city-heading\",\n          children: [weatherData.name, \" \", weatherData.main ? /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"(\", weatherData.sys.country, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), weatherData.main ? /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"current-temperature\",\n          children: [\" \", weatherData.main.temp, \"\\xB0c\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"extra-weather-info-container\",\n        children: [weatherData.main ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"extra-weather-details\",\n          children: [\" \", \"Feels like: \", weatherData.main.feels_like, \"\\xB0c\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this) : null, weatherData.main ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"extra-weather-details\",\n          children: [\" \", \"Humidity: \", weatherData.main.humidity, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this) : null, weatherData.weather ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"extra-weather-details\",\n          children: weatherData.weather[0].description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"search\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"weather-search-input\",\n        value: location,\n        onChange: event => // Sets location and removes accents so user can type in any language characters\n        setLocation(removeAccents.remove(event.target.value)),\n        onKeyPress: getWeatherData,\n        placeholder: \"Enter location..\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(WeatherApp, \"fUUMeND1lU2pd1DAxbbiDhv6VKM=\");\n\n_c = WeatherApp;\nexport default WeatherApp;\n\nvar _c;\n\n$RefreshReg$(_c, \"WeatherApp\");","map":{"version":3,"sources":["/home/dci/Desktop/Repos/portfolio-frontend/src/Views/WebApps/Weather-App/WeatherApp.js"],"names":["React","useEffect","useState","axios","weatherConditions","mainBg","weatherAppKey","process","env","REACT_APP_WEATHER_APP_KEY","removeAccents","require","WeatherApp","weatherData","setWeatherData","data","setData","location","setLocation","iconId","setIconId","bgImg","setBgImg","weatherUrl","getWeatherData","event","key","get","then","response","returnedData","nestedData","weather","icon","console","log","e","main","backgroundImage","name","sys","country","temp","feels_like","humidity","description","remove","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nimport { weatherConditions } from \"./WeatherConditions\";\n\n// Images & icons\nimport mainBg from \"../Weather-App/Static/mainBG.png\";\n\nconst weatherAppKey = process.env.REACT_APP_WEATHER_APP_KEY;\n\n// Remove accents - called in onChange event and setLocation\nconst removeAccents = require(\"remove-accents-diacritics\");\n\nconst WeatherApp = () => {\n  const [weatherData, setWeatherData] = useState({});\n  const [data, setData] = useState({});\n  let [location, setLocation] = useState(\"\");\n  let [iconId, setIconId] = useState(\"\");\n  let [bgImg, setBgImg] = useState(\"\");\n\n  // console.log(\"Testing accents\", location);\n\n  let weatherUrl = `https://api.openweathermap.org/data/2.5/weather?q=${location}&appid=${weatherAppKey}&units=metric`;\n\n  // Call weather API and set weather data\n  const getWeatherData = async (event) => {\n    if (event.key === \"Enter\") {\n      try {\n        axios.get(weatherUrl).then((response) => {\n          const returnedData = response.data;\n          const nestedData = response.data.weather[0].icon;\n          // setWeatherData(returnedData);\n          setIconId(nestedData);\n\n          console.log(\"!!!\", returnedData, nestedData);\n\n          // console.log(response.data);\n          console.log(\"ID!!!\", iconId);\n          // console.log(\"BG img\", bgImg);\n\n          // Find correlating bg from returned data, passed into iconID and return the bg image from found object\n          // weatherConditions.map((object) => {\n          //   if (iconId === object.iconDay || iconId === object.iconNight) {\n          //     setBgImg(object.backgroundImage);\n          //   } else {\n          //     return null;\n          //   }\n          //   return bgImg;\n          // });\n        });\n\n        setLocation(\"\");\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  };\n\n  return (\n    <div\n      className=\"weather-app-container\"\n      style={\n        weatherData.main && weatherData.weather[0].icon && bgImg !== \"\"\n          ? { backgroundImage: `url(${bgImg})` }\n          : { backgroundImage: `url(${mainBg})` }\n      }\n\n      // Set bg based on weather condition icon parameter\n\n      // style={\n      //   (weatherData.main && weatherData.weather[0].icon === \"01d\") ||\n      //   (weatherData.main && weatherData.weather[0].icon === \"01n\")\n      //     ? {\n      //         backgroundImage: `url(${clearSky})`,\n      //       }\n      //     : (weatherData.main && weatherData.weather[0].icon === \"02d\") ||\n      //       (weatherData.main && weatherData.weather[0].icon === \"02n\")\n      //     ? {\n      //         backgroundImage: `url(${fewClouds}) `,\n      //       }\n      //     : (weatherData.main && weatherData.weather[0].icon === \"03d\") ||\n      //       (weatherData.main && weatherData.weather[0].icon === \"03n\")\n      //     ? { backgroundImage: `url(${scatteredClouds})` }\n      //     : (weatherData.main && weatherData.weather[0].icon === \"04d\") ||\n      //       (weatherData.main && weatherData.weather[0].icon === \"04n\")\n      //     ? { backgroundImage: `url(${brokenClouds})` }\n      //     : (weatherData.main && weatherData.weather[0].icon === \"09d\") ||\n      //       (weatherData.main && weatherData.weather[0].icon === \"09n\")\n      //     ? { backgroundImage: `url(${lightRain})` }\n      //     : (weatherData.main && weatherData.weather[0].icon === \"10d\") ||\n      //       (weatherData.main && weatherData.weather[0].icon === \"10n\")\n      //     ? { backgroundImage: `url(${rain})` }\n      //     : (weatherData.main && weatherData.weather[0].icon === \"11d\") ||\n      //       (weatherData.main && weatherData.weather[0].icon === \"11n\")\n      //     ? { backgroundImage: `url(${thunderstorm})` }\n      //     : (weatherData.main && weatherData.weather[0].icon === \"13d\") ||\n      //       (weatherData.main && weatherData.weather[0].icon === \"13n\")\n      //     ? { backgroundImage: `url(${snow})` }\n      //     : (weatherData.main && weatherData.weather[0].icon === \"50d\") ||\n      //       (weatherData.main && weatherData.weather[0].icon === \"50n\")\n      //     ? { backgroundImage: `url(${mist})` }\n      //     : {\n      //         backgroundImage: `url(${mainBg})`,\n      //       }\n      // }\n    >\n      {/* Glassmorphism container for weather content only displays when data is returned */}\n      <div className={weatherData.main ? \"returned-data-container\" : null}>\n        <div className=\"main-weather-info-container\">\n          {/* City & country */}\n          <h1 className=\"city-heading\">\n            {weatherData.name}{\" \"}\n            {weatherData.main ? (\n              <span>&#40;{weatherData.sys.country}&#41;</span>\n            ) : null}\n          </h1>\n\n          {/* Temperature */}\n          {weatherData.main ? (\n            <h2 className=\"current-temperature\"> {weatherData.main.temp}°c</h2>\n          ) : null}\n        </div>\n\n        <div className=\"extra-weather-info-container\">\n          {/*  Feels like */}\n          {weatherData.main ? (\n            <span className=\"extra-weather-details\">\n              {\" \"}\n              Feels like: {weatherData.main.feels_like}°c\n            </span>\n          ) : null}\n\n          {/* Weather Condition */}\n          {/* {weatherData.weather ? (\n            <span className=\"extra-weather-details\">{weatherData.weather[0].main}</span>\n          ) : null} */}\n\n          {/* Humidity */}\n          {weatherData.main ? (\n            <span className=\"extra-weather-details\">\n              {\" \"}\n              Humidity: {weatherData.main.humidity}%\n            </span>\n          ) : null}\n\n          {/* Weather Description */}\n          {weatherData.weather ? (\n            <span className=\"extra-weather-details\">\n              {weatherData.weather[0].description}\n            </span>\n          ) : null}\n        </div>\n      </div>\n\n      {/* Search Input */}\n      <search>\n        <input\n          className=\"weather-search-input\"\n          value={location}\n          onChange={(event) =>\n            // Sets location and removes accents so user can type in any language characters\n            setLocation(removeAccents.remove(event.target.value))\n          }\n          onKeyPress={getWeatherData}\n          placeholder=\"Enter location..\"\n          type=\"text\"\n        ></input>\n      </search>\n\n      {/* Add max and min for the day */}\n    </div>\n  );\n};\n\nexport default WeatherApp;\n"]},"metadata":{},"sourceType":"module"}